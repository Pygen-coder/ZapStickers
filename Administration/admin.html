<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - ZapStickers</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1>ZapStickers Admin Panel</h1>
        </div>
        <!-- Product Management Section -->
        <div class="admin-content">
            <div class="add-item-form-wrapper">
                <div class="add-item-form" id="product-form-container">
                    <h2 id="form-title">Add New Product</h2>
                    <form id="product-form">
                        <input type="hidden" id="product-id">
                        <div class="form-group">
                            <label for="product-name">Product Name</label>
                            <input type="text" id="product-name" required>
                        </div>
                        <div class="form-group">
                            <label for="product-price">Price (₹)</label>
                            <input type="number" id="product-price" required>
                        </div>
                        <div class="form-group">
                            <label for="product-image-file">Product Image (Max 1MB)</label>
                            <input type="file" id="product-image-file" class="file-input" accept="image/*">
                            <div class="image-preview-container">
                                <img id="image-preview" src="#" alt="Image Preview" class="hidden">
                                <span id="image-preview-text">No image selected</span>
                            </div>
                            <!-- Storing the Base64 string in a hidden textarea -->
                            <textarea id="product-image-base64" class="hidden"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="product-category">Category</label>
                            <select id="product-category" required>
                                <option value="skin-laptop">Skin - Laptop</option>
                                <option value="skin-mobile">Skin - Mobile</option>
                                <option value="skin-tablet">Skin - Tablet</option>
                                <option value="sticker">Sticker</option>
                                <option value="decal">Decal</option>
                            </select>
                        </div>
                         <div class="form-group">
                            <label for="product-description">Description</label>
                            <textarea id="product-description" rows="4"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="product-keywords">Keywords</label>
                            <textarea id="product-keywords" rows="3" placeholder="e.g., anime, naruto, minimalist, car decal"></textarea>
                            <small style="color: var(--text-muted-color); font-size: 0.8rem; margin-top: 5px; display: block;">
                                Enter keywords separated by commas. These help in search results.
                            </small>
                        </div>
                        <div class="form-actions">
                             <button type="submit" class="btn-submit" id="form-submit-btn">Add Product</button>
                             <button type="button" class="btn-cancel hidden" id="form-cancel-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="product-list-preview">
                <h2>Live Products</h2>
                <div id="product-list-container" class="product-list-container">
                    </div>
            </div>
        </div>

        <!-- Divider -->
        <div class="admin-content-divider"></div>

        <!-- Coupon Management Section -->
        <div class="admin-content">
            <div class="add-item-form-wrapper">
                <div class="add-item-form" id="coupon-form-container">
                    <h2 id="coupon-form-title">Add New Coupon</h2>
                    <form id="coupon-form">
                        <input type="hidden" id="coupon-id">
                        <div class="form-group">
                            <label for="coupon-code">Coupon Code</label>
                            <input type="text" id="coupon-code" required placeholder="e.g., SUMMER25">
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="coupon-type">Discount Type</label>
                                <select id="coupon-type" required>
                                    <option value="percentage">Percentage (%)</option>
                                    <option value="fixed">Fixed Amount (₹)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="coupon-value">Value</label>
                                <input type="number" id="coupon-value" required placeholder="e.g., 25 or 500">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="min-purchase">Minimum Purchase (₹, optional)</label>
                            <input type="number" id="min-purchase" placeholder="e.g., 999">
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="expiry-date">Expiry Date (optional)</label>
                                <input type="date" id="expiry-date">
                            </div>
                            <div class="form-group">
                                <label for="usage-limit">Usage Limit (optional)</label>
                                <input type="number" id="usage-limit" placeholder="e.g., 100">
                            </div>
                        </div>
                        <div class="form-actions">
                             <button type="submit" class="btn-submit" id="coupon-form-submit-btn">Add Coupon</button>
                             <button type="button" class="btn-cancel hidden" id="coupon-form-cancel-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="product-list-preview">
                <h2>Active Coupons</h2>
                <div id="coupon-list-container" class="coupon-list-container">
                    <!-- Coupons will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="admin.js"></script>
</body>
</html>
